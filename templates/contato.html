{% extends "base.html" %}

{% block title %}Gerador de Peti√ß√µes - Apito Legal{% endblock %}

{% set css_file = 'styles-contato.css' %}

{% block content %}
<div class="contact-container">
    <!-- Se√ß√£o de Download (aparece ANTES do t√≠tulo quando peti√ß√£o √© gerada) -->
    {% if download_link %}
    <div class="download-section">
        <h3>üéâ Sua peti√ß√£o est√° pronta!</h3>
        <p>O Justinho gerou sua peti√ß√£o de defesa com sucesso.</p>
        <a href="{{ download_link }}" class="download-link">
            üìÑ Baixar {{ nome_arquivo }}
        </a>
        <p style="margin-top: 15px; font-size: 14px; color: rgba(255,255,255,0.7);">
            ‚ö†Ô∏è Lembre-se de revisar o documento com um advogado especializado antes do protocolo.
        </p>
    </div>
    {% endif %}

    <div class="contact-header">
        <h1 class="page-title">GERADOR AUTOM√ÅTICO DE PETI√á√ïES</h1>
        <p class="contact-subtitle">
            O Justinho ir√° criar sua peti√ß√£o de defesa automaticamente usando Intelig√™ncia Artificial
        </p>
    </div>
    
    <div class="contact-content">
        <!-- Formul√°rio de Gera√ß√£o de Peti√ß√µes com IA -->
        <div class="contact-form-container">
            <div class="ai-header">
                <h2>ü§ñ Justinho - Assistente Jur√≠dico IA</h2>
                <p class="ai-subtitle">Preencha os campos abaixo e nossa IA gerar√° uma peti√ß√£o de defesa personalizada</p>
            </div>
            
            <form method="POST" class="contact-form ai-form">
                <input type="hidden" name="gerar_peticao" value="1">
                
                <!-- Informa√ß√µes Pessoais -->
                <div class="form-section">
                    <h3>üìã Informa√ß√µes Pessoais</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nome_peticao">Nome Completo *</label>
                            <input type="text" id="nome_peticao" name="nome_peticao" required 
                                   placeholder="Seu nome completo">
                        </div>
                        
                        <div class="form-group">
                            <label for="clube">Clube *</label>
                            <input type="text" id="clube" name="clube" required 
                                   placeholder="Nome do clube">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="competicao">Competi√ß√£o *</label>
                        <input type="text" id="competicao" name="competicao" required 
                               placeholder="Nome da competi√ß√£o onde ocorreu a acusa√ß√£o">
                    </div>
                </div>
                
                <!-- Detalhes da Acusa√ß√£o -->
                <div class="form-section">
                    <h3>‚öñÔ∏è Detalhes da Acusa√ß√£o</h3>
                    <div class="form-group">
                        <label for="acusacao">Acusa√ß√£o *</label>
                        <textarea id="acusacao" name="acusacao" rows="3" required 
                                  placeholder="Descreva brevemente a acusa√ß√£o"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="contexto">Contexto Detalhado *</label>
                        <textarea id="contexto" name="contexto" rows="5" required 
                                  placeholder="Escreva todo o contexto da situa√ß√£o. Seja detalhista e insira fatos que gostaria de destacar."></textarea>
                    </div>
                </div>
                
                <!-- Objetivos da Defesa -->
                <div class="form-section">
                    <h3>üéØ Objetivos da Defesa</h3>
                    <div class="form-group">
                        <label for="pedidos">O que voc√™ deseja alcan√ßar? *</label>
                        <textarea id="pedidos" name="pedidos" rows="4" required 
                                  placeholder="Exemplo: arquivamento da den√∫ncia, desclassifica√ß√£o da conduta, ser ouvido pessoalmente, etc."></textarea>
                    </div>
                </div>
                
                <div class="ai-warning">
                    <p>‚ö†Ô∏è <strong>Importante:</strong> A peti√ß√£o gerada pelo Justinho √© uma vers√£o inicial que deve ser revisada por um advogado especializado antes do protocolo.</p>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary ai-btn">
                        Gerar Peti√ß√£o com Justinho
                    </button>
                    <a href="{{ url_for('index') }}" class="btn btn-secondary">
                        Voltar ao In√≠cio
                    </a>
                </div>
            </form>
        </div>
        
        <!-- Informa√ß√µes Laterais -->
        <div class="contact-info">
            <div class="info-card">
                <h3>Como Funciona</h3>
                <div class="process-steps">
                    <div class="step">
                        <span class="step-number">1</span>
                        <p>Preencha seus dados pessoais e informa√ß√µes do caso</p>
                    </div>
                    <div class="step">
                        <span class="step-number">2</span>
                        <p>Descreva detalhadamente a acusa√ß√£o e o contexto</p>
                    </div>
                    <div class="step">
                        <span class="step-number">3</span>
                        <p>Justinho gera sua peti√ß√£o usando IA especializada</p>
                    </div>
                    <div class="step">
                        <span class="step-number">4</span>
                        <p>Baixe o documento e revise com um advogado</p>
                    </div>
                </div>
            </div>
            
            <div class="mascot-section">
                <img src="{{ url_for('static', filename='images/justinho.png') }}" 
                     alt="Justinho - Mascote do Apito Legal" class="mascot-img">
                <p>O Justinho est√° aqui para criar sua defesa!</p>
            </div>
            
            <div class="info-card">
                <h3>Vantagens do Justinho</h3>
                <ul class="advantages-list">
                    <li>‚úÖ Gera√ß√£o instant√¢nea de peti√ß√µes</li>
                    <li>‚úÖ Baseado no CBJD e jurisprud√™ncia</li>
                    <li>‚úÖ Linguagem t√©cnica especializada</li>
                    <li>‚úÖ Estrutura formal para tribunais</li>
                    <li>‚úÖ Dispon√≠vel 24h por dia</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script>
// Adicionar loading ao formul√°rio de IA
document.querySelector('.ai-form').addEventListener('submit', function() {
    const submitBtn = this.querySelector('.ai-btn');
    submitBtn.innerHTML = '   Justinho est√° trabalhando...';
    submitBtn.disabled = true;
});
</script>
{% endblock %}